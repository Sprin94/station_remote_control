
# Тестовое задание

Python developer

## Стек

Python, Django, DRF, coverage, OpenAPI, Docker, Docker-compose, PostgreSQL.


## Приложение

Сервис по управлению космическими станциями.

В сервисе хранится информация станциях и их позиции в пространстве. Через сервис можно CRUD станций и изменять из позицию.

У станции 3 координаты: x, y, z. При запуске станции ее координаты по умолчанию равны: 100, 100, 100.
Станция исправно может двигаться только в диапазоне положительных координат. Если Станция вышла за эти координаты, мы считаем ее неисправной, даже если в будущем она вернулась обратно в разрешенную зону.

Позиция станции меняется через Указание: ось и значение смещения. За одно Указание можно сместиться только в одну сторону на неограниченное расстояние.
Например:
Указание #1: ось: x, смещение: -100. После получения этого указания станция сдвинется по оси X на 100 в лево

### API

Реализованы эндпоинты:

### Управление станциями
* GET, POST: /stations/
	* Схемы запроса и ответа совпадают со схемой модели "Станция".
* GET, PUT, PATCH, DELETE: /stations/{station_id}/
	* Схемы запроса и ответа совпадают со схемой модели "Станция".
* GET: /stations/{station_id}/state/ - Получение координат станции.
	* Схема ответа - позиция станции в пространстве:
		* x: int
		* y: int
		* x: int
* POST: /stations/{station_id}/state/ - Изменение позиции станции.
	* Схема запроса совпадает со схемой модели "Указание".
	* Схема ответа - позиция станции в пространстве:
		* x: int
		* y: int
		* x: int

### Документация

На основе эндпоинтов генерируется swagger через drf-spectacular.

# Использование
### Без docker (используется база данных SQlite)
1. Склонируйте данный репозиторий на свою локальную машину
2. Убедитесь, что у вас установлен пакет [Poetry](https://python-poetry.org/docs/)
3. Установите зависимости командой:
```sh
poetry install # или poetry install --with dev (для зависимостей разработки)
```
4. Примените миграции:
```sh
python manage.py migrate
```

5. Для запуска сервера используйте команду:
```sh
python manage.py runserver
```

6. Для авторизации создайте суперпользователя:
```sh
python manage.py createsuperuser
```
7. Тестирование приложения происходит через pytest следующей командой:
```sh
pytest
```

### Использование через docker (используется база данных PostgreSQL)
1. Склонируйте данный репозиторий на свою локальную машину
2. Выполните команду:
```sh
docker-compose build
```
затем
```sh
docker-compose up
```
